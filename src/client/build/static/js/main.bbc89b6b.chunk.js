(this.webpackJsonpclientalt=this.webpackJsonpclientalt||[]).push([[0],{33:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(28),r=a.n(c),i=(a(33),a(10)),o=a(13),j=a(12),h=a(11),b=a(3),l=a(2),u=a(17),d=a(4),O=a.n(d),p=a(6),x=a(7),m=a.n(x),v=a(0),f=function(e){var t=e.data;return t.f_crea=t.f_crea.slice(0,10),t.f_mod=t.f_mod.slice(0,10),Object(v.jsxs)("div",{className:"note-preview",children:[Object(v.jsx)("h3",{children:t.nameN}),Object(v.jsx)("p",{children:t.cont}),Object(v.jsxs)("small",{children:["Fecha de creacion: ",t.f_crea]}),Object(v.jsxs)("small",{children:["Fecha de modificaci\xf3n: ",t.f_mod]}),Object(v.jsxs)("div",{className:"options",children:[Object(v.jsx)(b.b,{className:"button",to:"/note/"+t.idNote,children:"Ver"}),Object(v.jsx)(b.b,{className:"button",to:"/note/edit/"+t.idNote,children:"Editar"}),Object(v.jsx)(b.b,{className:"button",to:"/note/borrar/"+t.idNote,children:"Borrar"})]})]})},g=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(p.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s.props.hash){e.next=7;break}return t="http://localhost:4000/api/note/index/"+s.props.hash,e.next=4,m.a.get(t);case 4:a=(a=e.sent).data.msg,s.setState({notes:a});case 7:case"end":return e.stop()}}),e)}))),s.render=function(){var e=[];return void 0!==s.props.hash?(void 0===s.state.notes&&s.setState({}),void 0!=s.state.notes.forEach?(s.state.notes.forEach((function(t){e.push(Object(v.jsx)(f,{data:t,hash:s.props.hash}))})),e=Object(v.jsxs)("div",{id:"preview-container",children:[Object(v.jsx)("div",{id:"newNote-button-container",children:Object(v.jsx)(b.b,{to:"/note/new",className:"button",children:"Nueva nota"})}),e]})):e=Object(v.jsx)("div",{id:"preview-container",children:Object(v.jsx)("div",{id:"newNote-button-container",children:Object(v.jsx)(b.b,{to:"/note/new",className:"button",children:"Nueva nota"})})})):e=Object(v.jsxs)("main",{children:[Object(v.jsx)("h1",{children:"Notas"}),Object(v.jsx)("h3",{children:"Tus notas simepre a la mano"}),Object(v.jsx)(b.b,{className:"button",to:"/signin",children:"Registrarse gratis"})]}),Object(v.jsx)("main",{children:e})},s.state={notes:[]},s}return a}(n.a.Component),N=function(e){return Object(v.jsxs)("main",{children:[Object(v.jsx)("h2",{children:e.err}),Object(v.jsx)("h5",{children:e.msg}),Object(v.jsx)(b.b,{to:"/",children:"Volver a la pagina de inicio"})]})},k=function(e){var t=e.data;return Object(v.jsxs)("main",{children:[Object(v.jsx)("h3",{children:t.msg}),Object(v.jsx)(b.b,{to:t.redirect,children:t.redirectMsg})]})},w=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).submit=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),m.a.post("http://localhost:4000/api/user/login",{email:s.state.email,pass:s.state.pass}).then((function(e){switch(e.data.code){case 200:s.setState({msg:Object(v.jsx)(k,{data:{msg:"Sesion iniciada",redirect:"/",redirectMsg:"ir a pagina principal"}})}),s.props.login(e.data.msg);break;default:s.setState({err:Object(v.jsx)("div",{id:"err",children:"Error:"+e.data.msg})})}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.cambios=function(e){switch(e.target.name){case"email":s.setState({email:e.target.value});break;case"pass":s.setState({pass:e.target.value})}},s.state={hash:s.props.hash,email:"",pass:"",err:void 0,msg:void 0},s}return Object(o.a)(a,[{key:"render",value:function(){var e;return e=void 0!==this.state.msg?this.state.msg:Object(v.jsxs)("form",{onSubmit:this.submit,children:[Object(v.jsx)("h1",{children:"Iniciar sesion"}),this.state.err,Object(v.jsx)("label",{children:"email"}),Object(v.jsx)("input",{type:"email",name:"email",onChange:this.cambios}),Object(v.jsx)("label",{children:"contrase\xf1a"}),Object(v.jsx)("input",{type:"password",name:"pass",onChange:this.cambios}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{type:"submit",children:"Ingresar"})]}),Object(v.jsx)("main",{children:e})}}]),a}(n.a.Component),S=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).submit=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s.setState({err:void 0}),m.a.post("http://localhost:4000/api/user",{email:s.state.email,user_name:s.state.user_name,pass:s.state.pass,Rpass:s.state.Rpass,pub:s.state.pub}).then((function(e){switch(e.data.code){case 200:s.setState({msg:{msg:e.data.msg,redirect:"/login",redirectMsg:"Aceptar"}});break;default:s.setState({err:Object(v.jsx)("div",{id:"err",children:"Error:"+e.data.msg})})}})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.cambios=function(e){switch(e.target.name){case"email":s.setState({email:e.target.value});break;case"user_name":s.setState({user_name:e.target.value});break;case"pass":s.setState({pass:e.target.value});break;case"Rpass":s.setState({Rpass:e.target.value});break;case"pub":"true"===e.target.value?s.setState({pub:!0}):s.setState({pub:!1})}},s.state={hash:s.props.hash,email:"",user_name:"",pass:"",Rpass:"",pub:!1,msg:void 0,err:void 0},s}return Object(o.a)(a,[{key:"render",value:function(){return void 0===this.state.msg?Object(v.jsx)("main",{children:Object(v.jsxs)("form",{onSubmit:this.submit,children:[Object(v.jsx)("h1",{children:"Registrarse"}),this.state.err,Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("input",{type:"email",name:"email",onChange:this.cambios}),Object(v.jsx)("label",{children:"Nombre de usuario"}),Object(v.jsx)("input",{type:"text",name:"user_name",onChange:this.cambios}),Object(v.jsx)("label",{children:"Contrase\xf1a"}),Object(v.jsx)("input",{type:"password",name:"pass",onChange:this.cambios}),Object(v.jsx)("label",{children:"Repetir contrase\xf1a"}),Object(v.jsx)("input",{type:"password",name:"Rpass",onChange:this.cambios}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{children:["Perfil publico",Object(v.jsxs)("select",{name:"pub",defaultValue:"false",onChange:this.cambios,children:[Object(v.jsx)("option",{value:"true",children:"si"}),Object(v.jsx)("option",{value:"false",children:"no"})]})]}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{type:"submit",children:"Guardar"})]})}):Object(v.jsx)(k,{data:this.state.msg})}}]),a}(n.a.Component),y=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={hash:s.props.hash},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("main",{})}}]),a}(n.a.Component),C=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={hash:s.props.hash},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("main",{children:Object(v.jsx)("h1",{children:"Consultar"})})}}]),a}(n.a.Component),_=a(5),E=function(e){var t=Object(s.useState)(""),a=Object(_.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(""),i=Object(_.a)(r,2),o=i[0],j=i[1],h=Object(s.useState)(!1),l=Object(_.a)(h,2),u=l[0],d=l[1],x=Object(s.useState)(void 0),f=Object(_.a)(x,2),g=f[0],N=f[1],w=Object(s.useState)(void 0),S=Object(_.a)(w,2),y=S[0],C=S[1],E=function(e){switch(e.target.name){case"nameN":c(e.target.value);break;case"cont":j(e.target.value);break;case"pub":"true"===e.target.value?d(!0):d(!1)}},V=function(){var t=Object(p.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),m.a.post("http://localhost:4000/api/note",{token:e.hash,nameN:n,cont:o,pub:u}).then((function(e){switch(e.data.code){case 200:C({msg:e.data.msg,redirect:"/",redirectMsg:"Aceptar"});break;default:N(Object(v.jsx)("div",{id:"err",children:"Error:"+e.data.msg}))}})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return void 0==y?Object(v.jsx)("main",{children:Object(v.jsxs)("form",{onSubmit:V,children:[Object(v.jsx)("h1",{children:"Nueva nota"}),g,Object(v.jsx)("label",{children:"Nombre de la nota"}),Object(v.jsx)("input",{type:"text",name:"nameN",onChange:E}),Object(v.jsx)("label",{children:"Contenido de la nota"}),Object(v.jsx)("textarea",{name:"cont",onChange:E}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{children:["Nota publico",Object(v.jsxs)("select",{name:"pub",defaultValue:"false",onChange:E,children:[Object(v.jsx)("option",{value:"true",children:"si"}),Object(v.jsx)("option",{value:"false",children:"no"})]})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"options",children:[Object(v.jsx)("button",{type:"submit",children:"Guardar"}),Object(v.jsx)(b.b,{to:"/",children:"Volver"})]})]})}):Object(v.jsx)(k,{data:y})},V=function(e){var t="http://localhost:4000/api/note/ver/"+e.hash,a=Object(s.useState)(void 0),n=Object(_.a)(a,2),c=n[0],r=n[1],i=Object(s.useState)(void 0),o=Object(_.a)(i,2),j=o[0],h=o[1],u=Object(s.useState)(void 0),d=Object(_.a)(u,2),x=d[0],f=d[1],g=Object(s.useState)(void 0),N=Object(_.a)(g,2),w=N[0],S=N[1],y=Object(s.useState)(void 0),C=Object(_.a)(y,2),E=C[0],V=C[1],M=Object(l.g)().idNote;t=t+"/"+M;var R=function(e){switch(e.target.name){case"nameN":r(e.target.value);break;case"cont":h(e.target.value);break;case"pub":"true"===e.target.value?f(!0):f(!1)}};Object(s.useEffect)(Object(p.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(t);case 2:a=(a=e.sent).data.msg,r(a.nameN),h(a.cont),f(a.pub),console.log(t);case 8:case"end":return e.stop()}}),e)}))),[]);var D=function(){var t=Object(p.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(j),a.preventDefault(),m.a.put("http://localhost:4000/api/note",{token:e.hash,idNote:M,nameN:c,cont:j,pub:x}).then((function(e){switch(e.data.code){case 200:V({msg:e.data.msg,redirect:"/",redirectMsg:"Aceptar"});break;default:S(Object(v.jsx)("div",{id:"err",children:"Error:"+e.data.msg}))}})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return void 0==E?void 0!==c&&void 0!=j&&void 0!=x?Object(v.jsx)("main",{children:Object(v.jsxs)("form",{onSubmit:D,children:[Object(v.jsx)("h1",{children:"Modificar nota"}),w,Object(v.jsx)("label",{children:"Nombre de la nota"}),Object(v.jsx)("input",{type:"text",name:"nameN",onChange:R,defaultValue:c}),Object(v.jsx)("label",{children:"Contenido de la nota"}),Object(v.jsx)("textarea",{name:"cont",defaultValue:j,onChange:R}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{children:["Nota publico",Object(v.jsxs)("select",{name:"pub",defaultValue:x,onChange:R,children:[Object(v.jsx)("option",{value:"true",children:"si"}),Object(v.jsx)("option",{value:"false",children:"no"})]})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"options",children:[Object(v.jsx)("button",{type:"submit",children:"Guardar"}),Object(v.jsx)(b.b,{to:"/",className:"button",children:"Volver"})]})]})}):Object(v.jsx)("div",{}):Object(v.jsx)(k,{data:E})},M=new u.a,R=function(e){var t=Object(l.g)().idNote,a="http://localhost:4000/api/note/ver/",n=Object(s.useState)(void 0),c=Object(_.a)(n,2),r=c[0],i=c[1];return Object(s.useEffect)((function(){var e=M.get("hash");a=a+e+"/"+t,function(){var e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,m.a.get(a);case 3:t=(t=e.sent).data.msg,i(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),void 0!=r&&"Nota no encontrada"!=r?(console.log(r),Object(v.jsxs)("main",{children:[Object(v.jsx)("h2",{children:r.nameN}),Object(v.jsx)("pre",{children:r.cont}),Object(v.jsx)(b.b,{to:"/",children:"Volver"})]})):Object(v.jsxs)("main",{children:[Object(v.jsx)("h2",{children:r}),Object(v.jsx)(b.b,{to:"/",children:"Pagina principal"})]})},D=function(e){var t=Object(l.g)().idNote,a="http://localhost:4000/api/note/"+e.hash+"/"+t,n="http://localhost:4000/api/note/ver/"+e.hash+"/"+t,c=Object(s.useState)(void 0),r=Object(_.a)(c,2),i=r[0],o=r[1],j=Object(s.useState)(void 0),h=Object(_.a)(j,2),u=h[0],d=h[1],x=Object(s.useState)(void 0),f=Object(_.a)(x,2),g=f[0],N=f[1];Object(s.useEffect)((function(){(function(){var e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,m.a.get(n);case 3:t=(t=e.sent).data.msg,o(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var w=function(){var e=Object(p.a)(O.a.mark((function e(t){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.delete(a);case 3:s=e.sent,e.t0=s.data.code,e.next=200===e.t0?7:9;break;case 7:return d({msg:s.data.msg,redirect:"/",redirectMsg:"Aceptar"}),e.abrupt("break",11);case 9:return N(Object(v.jsx)("div",{id:"err",children:s.data.msg})),e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return void 0!=i&&"Nota no encontrada"!=i?void 0===u?Object(v.jsxs)("main",{children:[g,Object(v.jsx)("h1",{children:"Desea borrar esta nota"}),Object(v.jsx)("h2",{children:i.nameN}),Object(v.jsx)("pre",{children:i.cont}),Object(v.jsx)("form",{onSubmit:w,children:Object(v.jsxs)("div",{className:"options",children:[Object(v.jsx)("button",{type:"submit",children:"Proceder"}),Object(v.jsx)(b.b,{to:"/",children:"Volver"})]})})]}):Object(v.jsx)(k,{data:u}):Object(v.jsxs)("main",{children:[Object(v.jsx)("h2",{children:i}),Object(v.jsx)(b.b,{to:"/",children:"Pagina principal"})]})},A=function(e){return void 0!==e.hash?Object(v.jsxs)("header",{children:[Object(v.jsxs)(b.b,{to:"/",id:"title_c",children:[Object(v.jsx)("h1",{id:"capital",children:"N"}),Object(v.jsx)("h1",{children:"otas"})]}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"button",value:"cerrar sesion",onClick:e.logout})})]}):Object(v.jsxs)("header",{children:[Object(v.jsxs)(b.b,{to:"/",id:"title_c",children:[Object(v.jsx)("h1",{id:"capital",children:"N"}),Object(v.jsx)("h1",{children:"otas"})]}),Object(v.jsxs)("div",{className:"options",children:[Object(v.jsx)(b.b,{to:"/login",children:"Iniciar Sesion"}),Object(v.jsx)(b.b,{to:"/signin",children:"Registrarse"})]})]})},P=new u.a,I=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).LogoutCookie=function(){P.remove("hash"),s.setState({hash:void 0})},s.LoginCookie=function(e){P.set("hash",e,{maxAge:259200,sameSite:"none",secure:!0}),s.setState({hash:P.get("hash")})},s.state={hash:void 0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){void 0!==P.get("hash")&&this.setState({hash:P.get("hash")})}},{key:"render",value:function(){return Object(v.jsxs)(b.a,{children:[Object(v.jsx)(A,{hash:this.state.hash,logout:this.LogoutCookie}),Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{path:"*",element:Object(v.jsx)(N,{err:"Error 404",msg:"Pagina no encontrada"})}),Object(v.jsx)(l.a,{path:"/",element:Object(v.jsx)(g,{hash:this.state.hash})}),Object(v.jsx)(l.a,{path:"/login",element:Object(v.jsx)(w,{hash:this.state.hash,login:this.LoginCookie})}),Object(v.jsx)(l.a,{path:"/logout",element:Object(v.jsx)(k,{data:{msg:"Adios",redirect:"/",redirectMsg:"Volver a la pagina principal"}})}),Object(v.jsx)(l.a,{path:"/signin",element:Object(v.jsx)(S,{hash:this.state.hash})}),Object(v.jsx)(l.a,{path:"/user",element:Object(v.jsx)(C,{})}),Object(v.jsx)(l.a,{path:"/user/edit",element:Object(v.jsx)(y,{hash:this.state.hash})}),Object(v.jsx)(l.a,{path:"/note/borrar/:idNote",element:Object(v.jsx)(D,{hash:this.state.hash})}),Object(v.jsx)(l.a,{path:"/note/new",element:Object(v.jsx)(E,{hash:this.state.hash})}),Object(v.jsx)(l.a,{path:"/note/edit/:idNote",element:Object(v.jsx)(V,{hash:this.state.hash})}),Object(v.jsx)(l.a,{path:"/note/:idNote",element:Object(v.jsx)(R,{hash:this.state.hash})})]})]})}}]),a}(n.a.Component);r.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(I,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.bbc89b6b.chunk.js.map